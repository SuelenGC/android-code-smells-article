% -*- root: article.tex -*-
% \lettrine[nindent=0em,lines=3]{L}orem ipsim ult as 
Escrever c\'odigo com qualidade tem se tornado cada vez mais importante com o aumento da complexidade da tecnologia. Existem diferentes t\'ecnicas que auxiliam os desenvolvedores a escreverem c\'odigo com qualidade incluindo \textit{design patterns} e \textit{code smells}. Defeitos de software, ou \textit{bugs}, podem custar a empresas quantias significativas, especialmente quando conduzem a falhas de software \cite{Nagappan:2005, briand1993modeling}. Evolu\c{c}\~ao e manuten\c{c}\~ao de software tamb\'em j\'a se provaram como os maiores gastos com aplica\c{c}\~oes \cite{RefactoringAndImprovements:10}.

\textit{Code smells} desempenham um importante papel na busca por qualidade de c\'odigo. Seu mapeamento possibilita a defini\c{c}\~ao de heur\'isticas que, por sua vez, possibilitam a implementa\c{c}\~ao de ferramentas que os identificam de modo autom\'atico no c\'odigo. PMD, Checkstyle e FindBugs s\~ao exemplos de ferramentas que identificam automaticamente alguns tipos de \textit{code smells} em c\'odigos Java.

Determinar o que \'e ou n\~ao um \textit{code smells} \'e subjetivo e pode variar de acordo com tecnologia, desenvolvedor, metologia de desenvolvimento dentre outros aspectos []. Alguns estudos t\^em buscado por \textit{code smells} tradicionais em projetos Android. Por exemplo, Verloop \cite{MobileSmells:13} analisou se classes derivadas do SDK Android s\~ao mais ou menos propensas a code smells tradicionais do que classes puramente Java. Linares et al. \cite{DomainMatters} usaram o m\'etodo DECOR para realizar a detec\c{c}\~ao de 18 \textit{anti-patterns} orientado a objetos em aplicativos m\'oveis. Outros estudos identificaram \textit{code smells} espec\'ificos Android, por\'em relacionados ao consumo inteligente de recursos do dispositivo, como bateria e mem\'oria, usabilidade, dentre outros \cite{EnergyAndroidSmells, ReimannBrylski2013}. 

Nossa pesquisa complementa as anteriores no sentido de que tamb\'em buscamos \textit{code smells} Android, e se difere delas pois estamos buscando \textit{smells} relacionados \`a qualidade do c\'odigo Android, ou seja, qualidade relacionada a c\'odigos espec\'ificos dessa plataforma. Por exemplo \textsc{activity}s, \textsc{fragment}s e \textsc{adapter}s s\~ao classes usadas na constru\c{c}\~ao de telas e \textsc{listener}s s\~ao respons\'aveis pelas intera\c{c}\~oes com o usu\'ario. Buscamos responder quest\~oes como \textit{``quais s\~ao as \textbf{boas e m\'as} pr\'aticas ao lidar com \textsc{activity}s, \textsc{fragment}s, \textsc{adapter}s e \textsc{listener}s?''} ou \textit{``quais s\~ao as \textbf{boas e m\'as} pr\'aticas para a constru\c{c}\~ao da interface visual?''}. Respondemos a essas e outras quest\~oes com base na percep\c{c}\~ao de desenvolvedores dessa plataforma. 

Optamos por focar em elementos relacionados ao \textit{front-end} Android pois encontramos pesquisas com uma curiosidade similar, por\'em relacionadas a identifica\c{c}\~ao de \textit{smells} em tecnologias usadas no \textit{front-end} de projetos web \cite{CSSCodeSmell, BB, FinavaroAniche2016}. E enquanto que \textit{smells} em projetos Java j\'a foram extensivamente estudados [], o \textit{front-end} Android possui peculiaridades n\~ao encontradas, e portanto n\~ao investigadas, em c\'odigo Java tradicional. Podemos citar alguns exemplos como o ciclo de vida definido pela plataforma que \'e atribu\'ido a toda \textsc{activity} ou \textsc{fragment} e a criação da interface visual de \textsc{Activity}s que \'e feita atrav\'es de arquivos XML chamados de \textsc{layout resources}.

Para definirmos quais elementos representam o \textit{front-end} Android fizemos uma extensa revis\~ao da documenta\c{c}\~ao oficial \cite{AndroidDeveloperSite2016} e chegamos nos seguintes itens: \textsc{Activity}s, \textsc{Fragment}s, \textsc{Listener}s, \textsc{Adapter}s e os \textit{applications resources}, que s\~ao arquivos XML ou imagens utilizados na interface visual como por exemplo \textsc{drawable}s, \textsc{layout}s, \textsc{style}s e \textsc{color}s.

Como existem muitos tipos de \textit{applications resources} \cite{AndroidResourcesOverview}, com o objetivo de limitar o tamanho do question\'ario, selecionamos quatro: \textsc{layout}, \textsc{styles}, \textsc{string} e \textsc{drawable}. Esses recursos est\~ao presentes no template padr\~ao do Android Studio \cite{FirstApp2017}, IDE oficial para desenvolvimento de projetos da plataforma \cite{AndroidStudio}. \\

Com isso, pretendemos responder as seguintes quest\~oes de pesquisa: \\

\textbf{RQ1} O que desenvolvedores consideram boas e m\'as pr\'aticas no desenvolvimento Android? \\

\textbf{RQ2} C\'odigos afetados pelos \textit{code smells} propostos s\~ao percebidos pelos desenvolvedores como problem\'aticos? \\

Para coletar os dados iniciais, publicamos um question\'ario online sobre boas e m\'as pr\'aticas no \textit{front-end} Android. Perguntas dissertativas foram usadas para n\~ao limitar o participante, possibilitar respostas mais completas e evitar enviesamento. 

% Com os resultados obtidos foi poss\'ivel compilar um cat\'alogo com 21 Android \textit{code smells} classificados em alta, m\'edia e baixa recorr\^encia de percep\c{c}\~ao. Esperamos com este cat\'alogo contribuir com as ideias iniciais para a defini\c{c}\~ao de heur\'isticas para a detec\c{c}\~ao sistematizada desses \textit{smells}. \\

As se\c{c}\~oes seguintes deste artigo estão organizadas da seguinte forma: na Se\c{c}\~ao 2 discutimos alguns trabalhos relacionados e o estado da arte sobre Android e \textit{code smells}. Na Se\c{c}\~ao 3 falamos sobre os m\'etodos utilizados em nosso estudo. A Se\c{c}\~ao 4 apresenta os resultados e as amea\c{c}as \`a validade do nosso estudo. Na Se\c{c}\~ao 5 discutimos e conclu\'imos.\\ 
