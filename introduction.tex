% -*- root: article.tex -*-
% \lettrine[nindent=0em,lines=3]{L}orem ipsim ult as 
Escrever c\'odigo com qualidade tem se tornado cada vez mais importante com o aumento da complexidade da tecnologia. Existem diferentes t\'ecnicas que auxiliam os desenvolvedores a escrever c\'odigo com qualidade incluindo \textit{design patterns}\mau{cite gof} e cheiros de c\'odigo\mau{cite beck e fowler}. A falta de qualidade pode resultar em defeitos de software que podem custar a empresas quantias significativas, especialmente quando conduzem a falhas de software \cite{Nagappan:2005, briand1993modeling}. Evolu\c{c}\~ao e manuten\c{c}\~ao de software tamb\'em j\'a se provaram como os maiores gastos com aplica\c{c}\~oes \cite{RefactoringAndImprovements:10}.

Uma das formas de aumentar a qualidade de software \'e identificar trechos de c\'odigos ruins e refator\'a-los, ou seja, alterar o c\'odigo sem alterar o comportamento \cite{Refactoring:99}. Com base nisso, temos que cheiros de c\'odigo desempenham um importante papel na busca por qualidade de c\'odigo, pois eles s\~ao sintomas que podem indicar problemas mais profundos no software, mas n\~ao necessariamente s\~ao o problema em si \cite{CodeSmell:06}. Seu mapeamento possibilita a defini\c{c}\~ao de heur\'isticas que, por sua vez, possibilitam a implementa\c{c}\~ao de ferramentas que os identificam de modo autom\'atico no c\'odigo. PMD \cite{PMD2016}, Checkstyle e FindBugs s\~ao exemplos de ferramentas que identificam automaticamente alguns tipos de cheiros de c\'odigo em c\'odigos Java.

Determinar o que \'e ou n\~ao um cheiros de c\'odigo \'e subjetivo e pode variar de acordo com tecnologia, desenvolvedor, metodologia de desenvolvimento dentre outros aspectos \cite{WikiCodeSmell}. Em particular, Aniche et al.~\cite{MvcSmells:16,aniche2016satt} mostraram que a arquitetura do software é um fator importante e que deve ser levado em conta ao analisar a qualidade de um sistema.   Alguns estudos t\^em buscado por cheiros de c\'odigo tradicionais em projetos Android. Por exemplo, Verloop \cite{MobileSmells:13} analisou se classes derivadas do SDK Android s\~ao mais ou menos propensas a cheiros de c\'odigo tradicionais do que classes puramente Java. Linares et al. \cite{DomainMatters} usaram o m\'etodo DECOR para realizar a detec\c{c}\~ao de 18 \textit{anti-patterns} orientado a objetos em aplicativos m\'oveis. Outros estudos identificaram cheiros de c\'odigo espec\'ificos Android relacionados ao consumo inteligente de recursos do dispositivo, como bateria e mem\'oria, usabilidade, dentre outros \cite{EnergyAndroidSmells, ReimannBrylski2013}. 

Nossa pesquisa complementa as anteriores no sentido de que tamb\'em buscamos cheiros de c\'odigo Android, e se difere delas pois estamos buscando cheiros de c\'odigo relacionados \`a qualidade do c\'odigo Android, ou seja, qualidade relacionada a c\'odigos espec\'ificos dessa plataforma. Por exemplo \textsc{Activities}\mau{plural de activity é activies, arrumei aqui, arrume nos outros lugares}, \textsc{Fragments} e \textsc{Adapters} s\~ao classes usadas na constru\c{c}\~ao de telas e \textsc{listeners} s\~ao respons\'aveis pelas intera\c{c}\~oes com os usu\'arios. Buscamos entender, por exemplo, \textit{``quais s\~ao as \textbf{boas e m\'as} pr\'aticas ao lidar com \textsc{Activitys}, \textsc{Fragments}, \textsc{Adapters} e \textsc{listeners}''} ou \textit{``quais s\~ao as \textbf{boas e m\'as} pr\'aticas para a constru\c{c}\~ao da interface visual''}. 

Optamos por focar em cheiros de código relacionados ao \textit{front-end} Android pois encontramos pesquisas com abordagem similar, por\'em relacionadas ao \textit{front-end} de tecnologias web \cite{CSSCodeSmell, BB, FinavaroAniche2016}. E enquanto que cheiros de c\'odigo em projetos Java j\'a foram extensivamente estudados \cite{Riel, Refactoring:99, Martin:2008:CCH:1388398}, o \textit{front-end} Android ainda carece de estudo e possui peculiaridades n\~ao encontradas em c\'odigo Java tradicional \cite{Mannan_Dig_Ahmed_Jensen_Abdullah_Almurshed}. Alguns exemplos dessas peculiaridas s\~ao o ciclo de vida de \textsc{Activitys} e \textsc{Fragments} e a cria\c{c}\~ao da interface visual que \'e feita atrav\'es de arquivos XML chamados de \textsc{layout resources}.

Para definirmos quais elementos representam o \textit{front-end} Android, fizemos uma extensa revis\~ao da documenta\c{c}\~ao oficial \cite{AndroidDeveloperSite2016} e chegamos nos seguintes itens: \textsc{Activitys}, \textsc{Fragments}, \textsc{Listeners}, \textsc{Adapters} e os recursos do aplicativo, que s\~ao arquivos XML ou imagens utilizados na interface visual como por exemplo \textsc{Drawables}, \textsc{Layouts}, \textsc{Styles} e \textsc{Colors}. Como existem muitos tipos de recursos do aplicativo \cite{AndroidResourcesOverview}, com o objetivo de limitar o tamanho do question\'ario e foco da pesquisa, selecionamos quatro: \textsc{Layout}, \textsc{Styles}, \textsc{String} e \textsc{Drawable}. Optamos por esses recursos pois os mesmos est\~ao presentes no template padr\~ao do Android Studio \cite{FirstApp2017}, IDE oficial para desenvolvimento de projetos da plataforma Android \cite{AndroidStudio}. 

Para obter os dados iniciais, publicamos um question\'ario online com perguntas sobre boas e m\'as pr\'aticas no desenvolvimento do \textit{front-end} Android. Para possibilitar respostas mais completas foram usadas perguntas dissertativas. Com isso, pretendemos responder as seguintes quest\~oes de pesquisa: \\

\textbf{RQ1} O que desenvolvedores consideram boas e m\'as pr\'aticas no desenvolvimento Android? \\

\textbf{RQ2} C\'odigos afetados por estas m\'as pr\'aticas s\~ao percebidos pelos desenvolvedores como problem\'aticos? \\

\mau{pode manter esse parágrafo aqui sim, quando estiver pronto} \textcolor{red}{Com os resultados obtidos foi poss\'ivel compilar um cat\'alogo com 21 Android cheiros de c\'odigo classificados em alta, m\'edia e baixa recorr\^encia de percep\c{c}\~ao. Esperamos com este cat\'alogo contribuir com as ideias iniciais para a defini\c{c}\~ao de heur\'isticas para a detec\c{c}\~ao sistematizada desses \textit{smells}.}

As contribuições deste trabalho são\mau{melhorar aqui}:

\begin{enumerate}

	\item Relação de maus cheiros de código na camada
	de \textit{front-end} em aplicações Android, derivada após
	entrevistas com \textcolor{red}{XX} desenvolvedores.

	\item Experimento controlado com \textcolor{red}{XX} 
	desenvolvedores demonstrando \textcolor{bla bla bla}.

	\item Roteiro de entrevista para que outros pesquisadores
	possam replicar nosso estudo.
\end{enumerate}

As se\c{c}\~oes seguintes deste artigo est\~ao organizadas da seguinte forma: na Se\c{c}\~ao 2 discutimos trabalhos relacionados e o estado da arte sobre Android e cheiros de c\'odigo. Na Se\c{c}\~ao 3 falamos sobre a metodologia de pesquisa utilizada. A Se\c{c}\~ao 4 apresenta os resultados obtidos. Na Se\c{c}\~ao 5 discutimos os resultados. Na Se\c{c}\~ao 6 tratamos das amea\c{c}as \`a validade do nosso estudo e ent\~ao, na Se\c{c}\~ao 7 conclu\'imos.
