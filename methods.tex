% -*- root: article.tex -*-
Conduzimos um estudo qualitativo e explorat\'orio onde os dados foram coletados atrav\'es de um question\'ario online com desenvoveldores Android. Esta se\c{c}\~ao descreve de forma detalhada a estrutura do question\'ario, os participantes e a an\'alise realizada sobre as respostas obtidas.

\subsection{Question\'ario}
\label{sub:questionario}

O question\'ario continha 25 quest\~oes divididas em tr\^es se\c{c}\~oes. A primeira se\c{c}\~ao continha 6 perguntas demogr\'aficas, a segunda se\c{c}\~ao continha 16 perguntas sobre boas e m\'as pr\'aticas relacionadas ao \textit{front-end} Android e a terceira se\c{c}\~ao continha 3 perguntas, 2 para obter \'ultimos pensamentos sobre boas e m\'as pr\'aticas e 1 solicitando email caso o participante tivesse interesse em etapas futuras da pesquisa. O question\'ario foi escrito em ingl\^es por\'em informava o participante que respostas em ingl\^es ou portugu\^es eram aceitas. Antes da divulga\c{c}\~ao, realizamos um piloto com 3 desenvolvedores Android. Todos estes dados est\~ao dispon\'iveis no nosso pacote de replica\c{c}\~ao\footnote{https://github.com/SuelenGC/android-code-smells-article}.

A primeira se\c{c}\~ao continha 6 quest\~oes demogr\'aficas obrigat\'orias de multipla escolha. Abordavam sobre idade (18 ou menos, 19 a 24, 25 a 34 e assim por diante at\'e 55 ou mais), estado de resid\^encia (foi dada uma lista com estados do Brasil, Estados Unidos e Europa), anos de experi\^encia com desenvolvimento de software, (1 anos ou menos, 2 anos, 3 anos, e assim por diante at\'e 10 ou mais), anos de experi\^encia com desenvolvimento Android (mesma escala de anos da quest\~ao anterior), uma quest\~ao sobre linguagens que o participante se considerava proeficiente (Java, Python, Ruby, Android, dentre outras) e sobre o \'ultimo grau de escolaridade (estudante de bacharelado, bacharelado, mestrado e doutorado). As quest\~oes sobre idade, regi\~ao, linguagens e grau de escolaridade continham a op\c{c}\~ao ``outros'' para o caso de nenhuma das op\c{c}\~oes atenderem, ao selecionar ``outros'' era poss\'ivel escrever uma resposta.

A segunda se\c{c}\~ao continha 16 quest\~oes opcionais e dissertativas sobre boas e m\'as pr\'aticas relacionadas ao \textit{front-end} Android. Para cada elemento do \textit{front-end} Android foram feitas duas perguntas, uma sobre boas e outra sobre m\'as pr\'aticas percebidas pelos participantes. Por exemplo, para o elemento \textsc{Activity} foram feitas as seguintes perguntas:

\begin{itemize} 
	\item[$\textasteriskcentered$] Voc\^e tem alguma boa pr\'atica para lidar com Activities?
	\item[$\textasteriskcentered$] Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com Activities? 
\end{itemize}

A terceira se\c{c}\~ao continha 3 perguntas opcionais e dissertativas, 2 para captar qualquer \'ultima ideia sobre boas e m\'as pr\'aticas n\~ao captadas nas quest\~oes anteriores e 1 solicitando o email do participante caso o mesmo tivesse interesse em participar de etapas futuras da pesquisa. 

Antes da divulga\c{c}\~ao, realizamos um piloto com 3 desenvolvedores Android e com o feedback deles fizemos alguns ajustes relacionados a obrigatoriedade das perguntas da segunda se\c{c}\~ao do question\'ario, onde todas tornaram-se opcionais. As respostas dos participantes piloto foram desconsideradas para efeitos de vi\'es. 

Todas as 18 quest\~oes sobre boas e m\'as pr\'aticas (16 na segunda se\c{c}\~ao e 2 da terceira) s\~ao apresentadas na Tabela \ref{tab:RespostasXParticipantes}.

\begin{table*}[t]
\centering
\footnotesize
\begin{tabular}{@{}lp{8.5cm}ccp{6cm}@{}}
\toprule
\multirow{2}{*}{\textbf{Id}}& \multicolumn{1}{c}{\multirow{2}{*}{\textbf{Quest\~oes}}} 	& \multicolumn{2}{c}{\textbf{Respostas}}	& \multicolumn{1}{c}{\multirow{2}{*}{\textbf{Participantes}}} \\ \cmidrule{3-4}
					 		& 															& \textbf{Total} & \textbf{\%} & \\
\hline

Q1	& Voc\^e tem alguma boa pr\'atica para lidar com Activities?															&36 &80\%	&P1, P2, P4--P12, P14--P17, P19, P22, P23, P25--P32, P34--P37, P39--P43, P45 \\
Q2	& Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com Activities?									&35 &78\%	&P2, P4--P11, P14--P17, P19, P22, P23, P25--P32, P34--P37, P39--P45 \\
Q3	& Voc\^e tem alguma boa pr\'atica para lidar com Fragments?															&33	&73\%	&P4--P11, P14--P17, P19, P22, P23, P25--P28, P30--P32, P34--P37, P39--P45 \\
Q4	& Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com Fragments?										&31	&69\%	&P2, P4--P11, P14, P15, P17, P19, P22, P23, P25--P28, P31,P32, P34--P37, P39--P43, P45 \\
Q5	& Voc\^e tem alguma boa pr\'atica para lidar com Adapters?																&30	&67\%	&P2, P4--P11, P14, P15, P17--P19, P22, P23, P26, P28, P29, P31,P32, P34--P37, P39--P43, P45 \\
Q6	& Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com Adapters?										&27	&60\%	&P2, P4--P8, P10, P11, P14, P18, P19, P22, P23, P26, P28, P31, P34--P37, P39--P45 \\
Q7	& Voc\^e tem alguma boa pr\'atica para lidar com Listeners?															&24	&53\%	&P2, P4--P6, P8, P9, P11, P14, P22, P23, P26, P28, P29, P31, P32, P34, P36, P37, P39--P43, P45 \\
Q8	& Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com Listeners?										&23	&51\%	&P2, P4, P5, P8, P9, P11, P14, P19, P22, P23, P26, P28, P31, P32, P34, P36, P37, P39--P44 \\
Q9	& Voc\^e tem alguma boa pr\'atica para lidar com Layout Resources?														&28	&62\%	&P4--P9, P11, P14, P19, P22, P23, P26--P29, P31, P32, P34--P37, P39--P45 \\
Q10	& Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com Layout Resources?								&23	&51\%	&P4, P5, P7--P9, P11, P22, P23, P26, P28, P31, P32, P34--P37, P39--P45 \\
Q11	& Voc\^e tem alguma boa pr\'atica para lidar com Styles Resources?														&23	&51\%	&P4--P9, P11, P18, P22, P23, P26, P28, P31, P32, P34--P37, P39--P43 \\
Q12	& Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com Styles Resources?								&22	&49\%	&P4--P8, P11, P18, P22, P23, P26, P28, P31, P32, P34--P37, P39--P43 \\
Q13	& Voc\^e tem alguma boa pr\'atica para lidar com String Resources?														&28	&62\%	&P4--P6, P8--P11, P14, P18, P22, P23, P26--P29, P31, P32, P34--P37, P39--P45 \\
Q14	& Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com String Resources?								&23	&51\%	&P4--P6, P8, P9, P11, P14, P18, P22, P23, P26, P28, P31, P32, P34--P37, P40--P43, P45 \\
Q15	& Voc\^e tem alguma boa pr\'atica para lidar com Drawable Resources?													&24	&53\%	&P4--P6, P8--P11, P14, P18, P22, P23, P26, P28, P31, P32, P34--P37, P39--P43 \\
Q16	& Voc\^e considera alguma coisa uma m\'a pr\'atica ao lidar com Drawable Resources?							&21	&47\%	&P4--P6, P8, P11, P14, P18, P22, P23, P26, P28, P31, P32, P34, P36, P37, P40--P44 \\
Q17	& Existem outras *BOAS* pr\'aticas sobre a Camada de Apresenta\c{c}\~ao Android que n\'os n\~ao perguntamos ou que voc\^e n\~ao disse ainda?	&22	&49\%	&P2, P4, P8, P10, P11, P14, P18, P22, P23, P26, P28, P31, P32, P34, P36, P37, P39--P43, P45 \\
Q18	& Existem outras *M\'AS* pr\'aticas sobre a Camada de Apresenta\c{c}\~ao Android que n\'os n\~ao perguntamos ou que voc\^e n\~ao disse ainda?	&20	&44\%	&P2, P4, P8, P10, P11, P18, P22, P23, P28, P31, P32, P34, P36, P37, P40--P45 \\
\hline
\multicolumn{5}{@{}l}{\textit{* Os participantes P3, P13, P20, P21, P24, P33 e P38 n\~ao responderam nenhuma das quest\~oes da segunda e terceira se\c{c}\~ao.}} \\
\toprule
\end{tabular}
\caption{Total de respostas obtidas por cada quest\~ao sobre boas e m\'as pr\'aticas no \textit{front-end} Android.}
\label{tab:RespostasXParticipantes}
\end{table*}

\subsection{Participantes}
\label{sub:participantes}

O question\'ario foi divulgado em redes sociais como Facebook, Twitter e Linkedin, em grupos de discuss\~ao sobre Android como \href{https://groups.google.com/forum/#!forum/androidbrasil-dev}{\textit{Android Dev Brasil}}, \href{https://groups.google.com/forum/\#!forum/android-brasil--projetos}{\textit{Android Brasil Projetos}} e o grupo do \href{http://slack.androiddevbr.org/}{\textit{Slack Android Dev Br}}, maior grupo de desenvolvedores Android do Brasil com 2622 participantes at\'e o momento da escrita deste artigo. 

O question\'ario esteve aberto por aproximadamente 3 meses e meio, de 9 de Outubro de 2016 at\'e 18 de Janeiro de 2017. Recebemos um total de 45 respostas sendo que 41 foram submetidas em Outubro, 3 no come\c{c}o de Novembro e 1 em Janeiro. Uma poss\'ivel explica\c{c}\~ao para praticamente n\~ao termos tido respostas nos meses de Novembro e Dezembro pode ser as festas comemorativas de final de ano. 

80\% dos participantes responderam pelo menos 3 perguntas sobre boas e m\'as pr\'aticas no \textit{front-end} Android (7 responderam de 3 a 6, 6 responderam de 8 a 10 e 23 responderam 13 ou mais, sendo que desses, 14 responderam todas) e apenas 20\% responderam uma (2 participantes) ou nenhuma (7 participantes). A pergunta solicitando o email foi respondida por 53\% dos participantes, o que pode indicar um interesse leg\'itimo da comunidade de desenvolvedores Android pelo tema, refor\c{c}ando a relev\^ancia do estudo. A Tabela \ref{tab:RespostasXParticipantes} apresenta a quantidade de respostas obtidas por cada uma das 18 perguntas sobre boas e m\'as pr\'aticas, podemos notar que a pergunta mais respondida foi a Q1 e a menos respondida foi a Q18.

Com a an\'alise das quest\~oes demogr\'aficas foi poss\'ivel notar que atingimos com sucesso \textit{desenvolvedores Android com variados n\'iveis de experi\^encia e de diversas regi\~oes} pois: 1) 100\% dos participantes indicaram possuir alguma experi\^encia com desenvolvimento Android, 2) menos de 14\% indicaram possuir 1 anos ou menos de experi\^encia com Android e mais de 86\% indicaram 2 anos ou mais (15,5\% 2 anos, 13,3\% 4 anos, 6,5\% 5 anos, 15,5\% 6 anos, 4,4\% 7 anos e 4,4\% 8 anos), 4) 36 respostas foram do Brasil, 7 de pa\'ises europeus e 1 dos Estados Unidos (Calif\'ornia). Vale lembrar que a plarforma Android completa 10 anos em 2017, ou seja, 5 anos de experi\^encia nessa plataforma representa 50\% do tempo de vida dela desde seu an\'uncio em 2007. Os dados sobre a experi\^encia dos participantes s\~ao apresentados na Tabela \ref{tab:DadosDemograficos}.

\begin{table}[h]
\centering
\small
\begin{tabular}{@{}l|c|r@{}}
\toprule
\textbf{Anos de Experi\^encia} & \textbf{Participantes} & \multicolumn{1}{c}{\textbf{\%}}  \\
\hline
1 ano ou menos 	&	 6 		& 	13,3 \%	 \\
2 anos 			& 	 7 		& 	15,6 \%	 \\
3 anos 			& 	 12		& 	26,7 \%	 \\
4 anos 			& 	 6 		& 	13,3 \%	 \\
5 anos 			& 	 3 		& 	 6,7 \%	 \\
6 anos 			& 	 7 		& 	15,6 \%	 \\
7 anos 			& 	 2 		& 	 4,4 \%	 \\
8 anos 			& 	 2 		& 	 4,4 \%	 \\
\toprule
\end{tabular}
\caption{Experi\^encia dos participantes com desenvolvimento Android.}
\label{tab:DadosDemograficos}
\end{table}

\subsection{An\'alise dos Dados}
\label{sub:smells-definition}

O processo de an\'alise partiu da listagem das 45 respostas do question\'ario e se deu em 4 passos: verticaliza\c{c}\~ao, limpeza dos dados, codifica\c{c}\~ao e divis\~ao. 

O processo que denominamos de \textit{verticaliza\c{c}\~ao} consistiu em considerar cada resposta de boa ou m\'a pr\'atica como um registro individual a ser analisado. Ou seja, cada participante respondeu 18 perguntas sobre boas e m\'as pr\'aticas no \textit{front-end} Android (2 perguntas para cada elemento e mais duas perguntas gen\'ericas). Com o processo de \textit{verticaliza\c{c}\~ao}, cada uma dessas respostas se tornou um registro, ou seja, cada participante resultava em 18 respostas a serem analisadas, totalizando 810 respostas (18 perguntas multiplicado por 45 participantes) sobre boas e m\'as pr\'aticas.

O passo seguinte foi realizar a \textit{limpeza dos dados}. Esse passo consistiu em remover respostas obviamente n\~ao \'uteis como respostas em branco, que continham frases como \textit{"N\~ao"}, \textit{"N\~ao que eu saiba"}, \textit{"Eu n\~ao me lembro"} e similares, as consideradas vagas como \textit{"Eu n\~ao tenho certeza se s\~ao boas praticas mas uso o que vejo por ai"}, as consideradas gen\'ericas como \textit{"Como todo c\'odigo java..."} e as que n\~ao eram relacionadas a boas pr\'aticas de c\'odigo. Das 810 boas e m\'as pr\'aticas, 352 foram consideradas e 458 desconsideradas. Das 352, 44,6\% foram apontadas como m\'as pr\'aticas e 55,4\% como boas pr\'aticas. 

Em seguida, realizamos a codifica\c{c}\~ao sobre as boas e m\'as pr\'aticas. O processo de codifica\c{c}\~ao consistiu em analisar cada resposta e atribuir uma ou mais categorias. Durante esse processo, houveram 30 respostas que n\~ao eram triviais de identificar uma categoria ou mesmo de dizer se essas respostas deveriam ser consideradas. Essas respostas foram marcadas como \textit{"talvez"} e reavaliadas ao final, onde 6 permaneceram e 24 foram desconsideradas. Ainda durante a codifica\c{c}\~ao, 9 respostas incialmente consideradas, foram desconsideradas. Para toda resposta desconsiderada nesse passo, foi indicado um motivo. Ao final da codifica\c{c}\~ao, as categorias foram agrupadas por temas.

Por \'ultimo realizamos o passo de divis\~ao. Esse passo consistiu em dividir as respostas que receberam mais de uma categoria em duas ou mais respostas, de acordo com o n\'umero de categorias identificadas, de forma a resultar em uma categoria por resposta. Por exemplo, a resposta \textit{"N\~ao fazer Activities serem callbacks de execu\c{c}\~oes ass\'incronas. Herdar sempre das classes fornecidas pelas bibliotecas de suporte, nunca diretamente da plataforma"} indica na primeira ora\c{c}\~ao uma categoria e na segunda ora\c{c}\~ao, outra categoria. Ao divid\'i-la, mantivemos apenas o trecho da resposta relativo a categoria, como se fossem duas respostas distintas e v\'alidas. Em algumas divis\~oes realizadas, a resposta completa era necess\'aria para entender ambas as categoriza\c{c}\~oes, nesses casos, mantivemos a resposta original, mesmo que duplicada, e categorizamos cada uma de forma diferente. 

Ao final da an\'alise constavam 389 respostas individualmente categorizadas sobre boas e m\'as pr\'aticas no \textit{front-end} Android.